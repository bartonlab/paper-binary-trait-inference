# Overview

This repository contains data and scripts for reproducing the results accompanying the manuscript

### Inferring selection for HIV-1 escape from T cell responses using a binary trait model
Yirui Gao<sup>1,and John P. Barton<sup>2,#</sup>

<sup>1</sup> Department of Physics and Astronomy, University of California, Riverside
<sup>2</sup> Department of Computational and Systems Biology, University of Pittsburgh School of Medicine
<sup>#</sup> correspondence to [jpbarton@pitt.edu](mailto:jpbarton@pitt.edu)  

# Contents

Scripts for generating and analyzing the simulation data can be found in the `Simulation_analyze.ipynb` notebook, and references therein. Scripts for processing and analyzing the HIV-1 data are contained in the `HIV_analyze.ipynb` notebook. Finally, scripts for analysis and figures contained in the manuscript are located in the `figures.ipynb` notebook.  

Due to the large size and number of some files generated by simulations and by the interim analysis of HIV-1 data, some data has been stored in a compressed format using Zenodo. To access the full set of data, navigate to the [Zenodo record](https://zenodo.org/record/7666524). Then download and extract the contents of the archives `output.zip`, `raw.zip`, `seq.zip`, and `sequence.zip` into the folders `data/HIV/output`, `data/HIV/raw`, `data/simulation/jobs/seq`,and `data/HIV/input/sequence`, respectively.


# MPL

This repository includes code for inferring selection coefficients and trait coefficients using the marginal path likelihood (MPL) method. Code implementing MPL in C++ is located in the `src/MPL` directory.


# Contents

Describe the contents of the repository, and which pieces do what. You can use code text to refer to specific files or directories, like this: `a_file.ipynb`, `a_folder/`. In this template, the `figures.ipynb` contains a template Jupyter notebook for reproducing the figures accompanying the paper. Generally, the generated figures should be placed in the `figures/` directory.

If the analysis uses data that is maintained by a third party or stored separately (e.g., on Zenodo), then it can be linked to here. If the paper develops a method, then a test script should be included that implements the method, allowing users to verify the results before applying the method to their own data.

In general, local data should be organized in the `data/` directory and appropriate sub-folders. This should include raw data that we use (including from simulations) and processed data, which is saved separately.

Significant code should be in the `src/` directory. Code that is just used for making figures or minor data processing could be included here in the top-level directory.

Paper drafts, including cover letters, etc., can be placed in the `drafts/` directory. This directory also contains a `.gitignore` file that will make it such that the contents of this directory are not synced with GitHub.

To sync the above folders on GitHub, placeholder files have been placed in the `data/`, `figures/`, and `src/` directories. These files should be deleted when the template is copied for a project and files appear in each folder.

### Software dependencies

Here's an example statement about the need for external software to execute any part of the code: Parts of the analysis are implemented in C++11 and the [GNU Scientific Library](https://www.gnu.org/software/gsl/).

# License

This repository is dual licensed as [GPL-3.0](LICENSE-GPL) (source code) and [CC0 1.0](LICENSE-CC0) (figures, documentation, and our presentation of the data).
